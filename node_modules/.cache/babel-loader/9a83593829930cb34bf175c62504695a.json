{"ast":null,"code":"import _asyncToGenerator from\"/Users/phw/study/nomadcoder/coin_myself/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/phw/study/nomadcoder/coin_myself/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/phw/study/nomadcoder/coin_myself/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import _regeneratorRuntime from\"/Users/phw/study/nomadcoder/coin_myself/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect}from\"react\";import{useState}from\"react\";import{useLocation,useParams}from\"react-router-dom\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nmax-width:480px;\\nmargin: 0 auto;\\npadding: 10px;\\n\"])));var Loader=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\ndisplay: block;\\ntext-align: center;\\n\"])));var Header=styled.header(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 15vh;\\n\"])));var Title=styled.h1(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-size: 2.5em;\\n\"])));var Coin=function Coin(){var _useParams=useParams(),coinId=_useParams.coinId;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useLocation=useLocation(),state=_useLocation.state;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),info=_useState4[0],setInfo=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),priceInfo=_useState6[0],setPriceInfo=_useState6[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var infoData,priceData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.coinpaprika.com/v1/coins/\".concat(coinId));case 2:_context.next=4;return _context.sent.json();case 4:infoData=_context.sent;console.log(infoData);_context.next=8;return fetch(\"https://api.coinpaprika.com/v1/tickers/\".concat(coinId));case 8:_context.next=10;return _context.sent.json();case 10:priceData=_context.sent;console.log(priceData);setInfo(infoData);setPriceInfo(priceData);setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee);}))();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Title,{children:(state===null||state===void 0?void 0:state.name)||\"홈 화면에서 넘어오세요\"})}),loading?/*#__PURE__*/_jsx(Loader,{children:\"\\uB370\\uC774\\uD130 \\uBC1B\\uC544\\uC624\\uB294 \\uC911...\"}):priceInfo===null||priceInfo===void 0?void 0:priceInfo.quotes.USD.market_cap]});};export default Coin;","map":{"version":3,"sources":["/Users/phw/study/nomadcoder/coin_myself/src/routes/Coin.tsx"],"names":["useEffect","useState","useLocation","useParams","styled","Container","div","Loader","span","Header","header","Title","h1","Coin","coinId","loading","setLoading","state","info","setInfo","priceInfo","setPriceInfo","fetch","json","infoData","console","log","priceData","name","quotes","USD","market_cap"],"mappings":"8kBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGD,MAAM,CAACE,GAAV,sHAAf,CAKA,GAAMC,CAAAA,MAAM,CAAGH,MAAM,CAACI,IAAV,2GAAZ,CAKA,GAAMC,CAAAA,MAAM,CAAGL,MAAM,CAACM,MAAV,4JAAZ,CAMA,GAAMC,CAAAA,KAAK,CAAGP,MAAM,CAACQ,EAAV,0FAAX,CAiEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,eAAmBV,SAAS,EAA5B,CAAQW,MAAR,YAAQA,MAAR,CACA,cAA6Bb,QAAQ,CAAC,IAAD,CAArC,wCAAOc,OAAP,eAAgBC,UAAhB,eACA,iBAAgBd,WAAW,EAA3B,CAAOe,KAAP,cAAOA,KAAP,CACA,eAAuBhB,QAAQ,EAA/B,yCAAOiB,IAAP,eAAaC,OAAb,eACA,eAAiClB,QAAQ,EAAzC,yCAAOmB,SAAP,eAAkBC,YAAlB,eACArB,SAAS,CAAC,UAAM,CACd,wDAAC,gLAESsB,CAAAA,KAAK,gDAAyCR,MAAzC,EAFd,6CAGGS,IAHH,UACOC,QADP,eAICC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAJD,sBAMSF,CAAAA,KAAK,kDAA2CR,MAA3C,EANd,8CAOGS,IAPH,WAKOI,SALP,eAQCF,OAAO,CAACC,GAAR,CAAYC,SAAZ,EACAR,OAAO,CAACK,QAAD,CAAP,CACAH,YAAY,CAACM,SAAD,CAAZ,CACAX,UAAU,CAAC,KAAD,CAAV,CAXD,uDAAD,KAaD,CAdQ,CAcP,EAdO,CAAT,CAeA,mBACE,MAAC,SAAD,yBACE,KAAC,MAAD,wBACE,KAAC,KAAD,WAAQ,CAAAC,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEW,IAAP,GAAe,cAAvB,EADF,EADF,CAIGb,OAAO,cAAG,KAAC,MAAD,oEAAH,CAAoCK,SAApC,SAAoCA,SAApC,iBAAoCA,SAAS,CAAES,MAAX,CAAkBC,GAAlB,CAAsBC,UAJpE,GADF,CAQD,CA7BD,CA8BA,cAAelB,CAAAA,IAAf","sourcesContent":["import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\nmax-width:480px;\nmargin: 0 auto;\npadding: 10px;\n`;\nconst Loader = styled.span`\ndisplay: block;\ntext-align: center;\n`;\n\nconst Header = styled.header`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 15vh;\n`;\nconst Title = styled.h1`\n  font-size: 2.5em;\n`;\n\ninterface RouteParams {\n  coinId: string;\n}\ninterface RouteState {\n  name: string;\n}\n\ninterface InfoData{\n  id:string ;\n  name:string ;\n  symbol:string ;\n  rank:number ;\n  is_new:boolean ;\n  is_active:boolean ;\n  type:string ;\n  description:string ;\n  message:string ;\n  open_source: boolean;\n  started_at: string;\n  development_status:string ;\n  hardware_wallet:boolean ;\n  proof_type:string ;\n  org_structure:string ;\n  hash_algorithm:string ;\n  first_data_at: string;\n  last_data_at:string ;\n}\n\ninterface PriceInfo{\nid:string ;\nname:string ;\nsymbol:string;\nrank:number ;\ncirculating_supply: number;\ntotal_supply:number ;\nmax_supply:number ;\nbeta_value:number ;\nfirst_data_at:string ;\nlast_updated:string ;\nquotes:{\n  USD:{\n    ath_date: string;\n    ath_price: number;\n    market_cap: number;\n    market_cap_change_24h: number;\n    percent_change_1h: number;\n    percent_change_1y: number;\n    percent_change_6h: number;\n    percent_change_7d: number;\n    percent_change_12h: number;\n    percent_change_15m: number;\n    percent_change_24h: number;\n    percent_change_30d: number;\n    percent_change_30m: number;\n    percent_from_price_ath: number;\n    price: number;\n    volume_24h: number;\n    volume_24h_change_24h: number;\n  }\n} ;\n}\nconst Coin = () => {\n  const { coinId } = useParams<RouteParams>();\n  const [loading, setLoading] =useState(true);\n  const {state} = useLocation<RouteState>();\n  const [info, setInfo] =useState<InfoData>();\n  const [priceInfo, setPriceInfo] =useState<PriceInfo>();\n  useEffect(() => {\n    (async () => {\n      const infoData = await (\n        await fetch(`https://api.coinpaprika.com/v1/coins/${coinId}`)\n      ).json();\n      console.log(infoData)\n      const priceData = await (\n        await fetch(`https://api.coinpaprika.com/v1/tickers/${coinId}`)\n      ).json();\n      console.log(priceData)\n      setInfo(infoData);\n      setPriceInfo(priceData);\n      setLoading(false);\n    })();\n  },[])\n  return(\n    <Container>\n      <Header>\n        <Title>{state?.name || \"홈 화면에서 넘어오세요\"}</Title>\n      </Header>\n      {loading ? <Loader>데이터 받아오는 중...</Loader> : priceInfo?.quotes.USD.market_cap}\n    </Container>\n  )\n}\nexport default Coin;\n\n"]},"metadata":{},"sourceType":"module"}